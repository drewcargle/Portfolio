{
	"AWSTemplateFormatVersion": "2010-09-09",

	"Description": "Template for a startup company looking to move their services to the cloud"

	"Parameters": {
	    "NewKeyName": {
		"Description": "The key pair to access Instacnes",
		"Type": "AWS::EC2::KeyPair::KeyName"
	    }
	},
	    "InstanceType" : {
	   	"Description": "Instance type of the instance",
		"Type": "AWS::EC2::InstanceType"
		"Default": "t2.micro"
	    }
	},

	"Resources": {
	    "VPC": {
		"Type": "AWS::EC2::VPC",
		"Properties": {
		    "CidrBlock": "172.16.0.0/20",
		    "EnableDnsHostnames": "true",
    		    "EnableDnsSupport": "true", 
		    "Tags": [
			{
			    "Key": "Name",
			    "Value": "MoneyVPC"
			}
		    ]
		}
	    },
	    "InternetGateway" : {
	         "Type" : "AWS::EC2::InternetGateway",
		 "Properties" : {
		   "Tags"  [ {"Key: "stack", "Value" : "Money"}}
		 }
	    }
	}

	    "AttachGateway" : {
   		 "Type" : "AWS::EC2::VPCGatewayAttachment",
                 "Properties" : {
		    "VpcId" : { "Ref": "VPC" },
		    "InternetGatewayId" : { "Ref" : "InternetGateway" }
	    
	    "PublicSubnet1" : {
		 "Type" : "AWS::EC2::Subnet",
		 "Properties" : {
		     "VpcId" : {"Ref" : "VPC" }
		     "CidrBlock" : "172.16.0.0/20",
		     "AvailibityZone" : "us-east-1a",
		     "Tags" : [{"Key" : "stack", "Value" : "MoneyVPC"}]
	    }
	}

	     "NetworkAclTho" : {
		 "Type" : "AWS::EC2::NetworkAcl",
		 "Properties" : {
		      "VpcId" : {"Ref" : "VPC"},
		      "Tags" : [{"Key" : "stack", "Value" : "MoneyVPC"}]
	    }
	},
	     "InboundRule" : {
		 "Type" : "AWS::EC2::NetworkAclEntry",
		 "Properties" : {
		     "NetworkAclId" : {
			 "Ref" : "NetworkAclTho" 
		     },
		     "RuleNumber" : 100,
		     "Protocol": 6,
		     "RuleAction": "allow",
		     "CidrBlock": "172.0.16.0/20",
		     "PortRange": {
			 "From": 22,
			 "To": 22 
		    }
		}
	    },
	    "OutboundRule": {
		"Type" : "AWS::EC2::NetworkAclEntry",
		"Properties": {
		    "NetworkAclId" : {
			"Ref" : "NetworkAclTho"
		     },
		    "RuleNumber": 100,
		    "Protocol": -1
		    "Egress": true,
		    "RuleAction": "allow",
		    "CidrBlock": "0.0.0.0/0"

	    "mySubnetNetworkAclAssociation" : {
		 "Type" : "AWS::EC2::SubnetNetworkAclAssociation",
		 "Properties" : {
		     "SubnetId" : {"Ref" : "PublicSubnet1" },
		     "NetworkAclId" : {"Ref" : "NetworkAclTho" }
		}
	    },
	    "myRouteTable" : {
		 "Type" : "AWS::EC2::RouteTable",
		 "Properties" : {
		     "VpcId" : { "Ref" : "VPC" },
		     "Tags" : [ { "Key" : "Name", "Value" : "Money" } ]
		}
	    },
	   "myRoute" : {
		 "Type" : "AWS::EC2::Route",
	   	 "DependsOn" : "GatewayToInternet",
		 "Properties" : {
		    "RouteTableId" : { "Ref" : "myRouteTable" },
		    "DestinationCidrBlock" : "0.0.0.0/0",
		    "GatewayId" : { "Ref" : "InternetGateway" }
		}
	    },
		

	     "BigMoneyInstance" : {
		   "Type" : "AWS::EC2::Instance",
		   "Properties" : {
		      "AvailibityZone" : { "Fn:: "GetAZs" }
		      "InstanceType" : { "Ref" : "" }
		      "KeyName" : { "Ref" : "NewKeyName" }
		      "PrivateIpAddress" : 
		      "ImageId" : 
		      "SubnetId" : { "Ref" : "PublicSubnet1" }
		      "SecurityGroups" : { "Ref" : "" }
		      "BlockDeviceMappings" : 

	     "BigMoneyInstanceSecurityGroup" : {
		    "Type" : "AWS::EC2::SecurityGroup",
		    "Properties" : { 
		    	"GroupDescription" : "Allow http to instance",
		    "VpcId" : {"Ref" : "VPC"}
		    "SecurityGroupIngress" [{
		        "IpProtocol" : "tcp",
			"FromPort" : 80,
			"ToPort" : 80,
			"CidrIp" "0.0.0.0/0"
		     }],
		    "SecurityGroupEgress" : [{
			"IpProtocol" : "tcp",
			"FromPort" : 80,
			"ToPort" : 80,
			"CidrIp" : "0.0.0.0/0"
		    }]
		}
	     }

		    ""
		       

			
		    	
